<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>McCabe-Thiele Calculator (Methanol-Water)</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="controls-container">
      <h2>McCabe-Thiele Calculator</h2>
      <form id="calc-form">
        <div class="description">
          <b>System:</b> Methanol-Water @ 1 atm (VLE 데이터 기반) <br /><b
            >Assumptions:</b
          >
          Total Condenser, Partial Reboiler
        </div>

        <h3>Distillate (Top Product)</h3>
        <label for="xd">Distillate Comp. (xd):</label>
        <input
          type="number"
          id="xd"
          value="0.999"
          step="0.001"
          min="0"
          max="1"
        />

        <h3>Bottoms (Bottom Product)</h3>
        <label for="xb">Bottoms Comp. (xb):</label>
        <input
          type="number"
          id="xb"
          value="0.01"
          step="0.001"
          min="0"
          max="1"
        />

        <h3>Feed(methanol)</h3>
        <label for="zf">Feed(methanol) Composition:</label>
        <input
          type="number"
          id="zf"
          value="0.5028"
          step="any"
          min="0"
          max="1"
        />

        <label for="q">Feed Condition (q):</label>
        <input
          type="number"
          id="q"
          value="0.995"
          step="any"
          title="q=1: Saturated Liquid&#10;q=0: Saturated Vapor&#10;0<q<1: Mix&#10;q>1: Subcooled Liquid&#10;q<0: Superheated Vapor"
        />

        <h3>Operating Conditions</h3>
        <label for="r_factor">Reflux Factor (R/Rmin):</label>
        <input type="number" id="r_factor" value="1.5" step="0.01" min="0.1" />

        <label for="nm">Murphree Efficiency (nm):</label>
        <input
          type="number"
          id="nm"
          value="0.75"
          step="0.001"
          min="0.01"
          max="1"
        />

        <label for="nm">Condensor sub-cooling (K):</label>
        <input
          type="number"
          id="sub_cooling"
          value="0.0"
          step="0.1"
          min="0.0"
          max="100"
        />

        <button type="submit">Calculate & Draw Plot</button>
      </form>
    </div>

    <div id="output-container">
      <canvas id="mccabeThieleChart"></canvas>

      <div id="results-output">
        <h3>Calculation Results:</h3>
        <pre id="results-text">
Click "Calculate" to generate the plot and results.
The initial plot will be drawn here based on default values.
            </pre
        >
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="main.js" type="module" defer></script>
  </body>
</html>
